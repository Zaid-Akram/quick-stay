<%- include("../includes/adminHeader.ejs")%>
    <%-include("../includes/flash.ejs")%>

<div class="container mt-4">
  <h2 class="mb-4">All Bookings</h2>
  <table class="table table-bordered table-hover">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Listing</th>
        <th>Owner</th>
        <th>Guest</th>
        <th>Check-in</th>
        <th>Check-out</th>
        <th>Total Price</th>
      </tr>
    </thead>
    <tbody>
      <% bookings.forEach((b, index) => { %>
        <tr>
          <td><%= index + 1 %></td>
          <td><%= b.listing?.title || "N/A" %></td>
          <td><%= b.listing?.owner?.username || "N/A" %></td>
          <td><%= b.guest?.username || "N/A" %> (<%= b.guest?.email %>)</td>
          <td><%= b.checkIn?.toLocaleDateString() %></td>
          <td><%= b.checkOut?.toLocaleDateString() %></td>
          <td>â‚¹<%= b.totalPrice %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>


